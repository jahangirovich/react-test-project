(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{51:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,l=n(12),d=n(0),b=n.n(d),p=n(19),j=n.n(p),h=(n(51),n(24)),O=n(4),f=n(6),g=n(13),m=g.b.div(a||(a=Object(l.a)(["\n    padding: 10px 20px;\n    background-color: ",";\n    border: none;\n    border-radius: 40px;\n    box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.1);\n    color: ",";\n    display: flex;\n    align-items: center;\n    \n    cursor: pointer;\n    margin: 0 10px;\n    &:focus {\n        outline: none;\n    }\n    &:hover{\n        background-color: white;\n        color: #5b80ba;\n    }\n    span{\n        margin: 0 10px;\n    }\n    \n"])),(function(e){return e.backgroundColor?"#5b80ba":"white"}),(function(e){return e.backgroundColor?"white":"#5b80ba"})),x=g.b.div(r||(r=Object(l.a)(["\n    width: 100%;\n    background-color: ",";\n    padding: 8px 12px;\n    position: relative;\n    cursor: ",";\n    margin: 10px 0;\n    .disabled{\n        display: none !important;\n    }\n    .editIcon{\n        position: absolute;\n        right: 50%;\n        font-size: 25px;\n        top: 20%;\n        display: none;\n    }\n    &:hover .editIcon{\n        display: inline-block\n    }\n"])),(function(e){return 0==e.background?"#ffebee":1==e.background?"#fcccd4":10==e.background?"#e5f5d5":"#b7e08d"}),(function(e){return e.isAdmin?"pointer":"unset"})),v=g.b.div(c||(c=Object(l.a)(["\n    width: 100%;\n    padding: 8px 12px;\n    .byOrder{\n        span{\n            color: #a89151;\n            border: 1px solid #a89151;\n        }\n        .current{\n            background-color: #a89151;\n            color: white;\n        }\n    }\n    div{\n        margin: 10px 0;\n        span{\n            color: #5b80ba;\n            display: inline-block;\n            padding: 3px 15px;\n            border-radius: 20px;\n            border: 1px solid #5b80ba;\n            margin: 0 10px;\n            background-color: white;\n            cursor: pointer\n        }\n        .current{\n            background-color: #5b80ba;\n            color: white;\n        }\n    }\n"]))),y=g.b.div(i||(i=Object(l.a)(["\n    padding: 10px;\n    margin-top: 20px;\n"]))),k=g.b.div(o||(o=Object(l.a)(["\n  width: 100%;\n"]))),w=g.b.div(s||(s=Object(l.a)(["\n  display: flex;\n  align-items: center;\n"]))),N=g.b.div(u||(u=Object(l.a)(["\n    width: 100%;\n    height: ","%;\n    background-color: rgba(0,0,0,0.5);\n    transition: 0.3s all;\n    overflow: hidden;\n    z-index: 10001;\n    display: flex;\n    max-height: 10000px;\n    justify-content: center;\n    left: 0;\n    top: 0;\n    position: fixed;\n    div{\n        form{\n            padding: 40px 10px;\n            width: 400px;\n            background-color: white;\n            .options{\n                span{\n                    display: block;\n                    border-radius: 20px;\n                    padding: 4px 10px;\n                    margin: 10px 0;\n                    cursor: pointer;\n                    background-color: #e6e6e6\n                }\n                .selected{\n                    background-color: #5b80ba !important;\n                    color: white\n                }\n            }\n            p{\n                position: relative;\n                margin: 10px 0;\n            }\n            .errors{\n                color: red;\n            }\n            input{\n                display: block;\n                width: 100%;\n                padding: 5px;\n                outline: none;\n                transition: 0.3s all;\n                border: none;\n                border-bottom: 1px solid #e6e6e6;\n                &:focus{\n                    border-bottom: 1px solid #5b80ba;\n                }\n                &[type=submit]{\n                    cursor: pointer;\n                    padding: 10px;\n                    background-color: #5b80ba;\n                    color: white;\n                    margin-top: 50px\n                }\n            }\n        }\n    }\n"])),(function(e){return e.height})),_=n(2),C=n(5),P="MODAL",S="SET_QUERY",L="SET_DATA",R="SET_AUTH_MODAL",E="SET_ADMIN",T="SET_DETAIL",D="OPEN_DETAIL",A=n(21),F=n.n(A),I=(n(72),"http://test-project-laravel-react.herokuapp.com/api/"),M=function(e,t,n,a){F.a.post(I+e,t,{"Content-Type":"multipart/form-data"}).then((function(e){n(e)})).catch((function(e){a(e.response)}))},z=n(1);function U(){var e=Object(C.c)((function(e){return e.taskListReducer.modal})),t=Object(C.b)(),n=Object(d.useState)(""),a=Object(f.a)(n,2),r=a[0],c=a[1],i=Object(d.useState)({username:"",email:"",text:""}),o=Object(f.a)(i,2),s=o[0],u=o[1];function l(e,t){u("username"==t?Object(_.a)(Object(_.a)({},s),{},{username:e.target.value}):"email"==t?Object(_.a)(Object(_.a)({},s),{},{email:e.target.value}):Object(_.a)(Object(_.a)({},s),{},{text:e.target.value}))}return Object(z.jsx)(N,{height:e,onClick:function(e){return function(e,n){e.target==e.currentTarget&&t({type:P,payload:n})}(e,0)},children:Object(z.jsx)("div",{children:Object(z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=new FormData;n.append("username",s.username),n.append("email",s.email),n.append("text",s.text),M("create",n,(function(e){t({type:P,payload:0})}),(function(e){var t="";Object.keys(e.data.message).forEach((function(n){t+=n+" "+e.data.message[n]})),c(t)}))}(e)},children:[Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(z.jsx)("input",{type:"text",id:"username",onChange:function(e){return l(e,"username")}})]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(z.jsx)("input",{type:"text",id:"email",onChange:function(e){return l(e,"email")}})]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"text",children:"Text:"}),Object(z.jsx)("input",{type:"text",id:"text",onChange:function(e){return l(e,"text")}})]}),Object(z.jsx)("p",{className:"errors",children:r}),Object(z.jsx)("input",{type:"submit"})]})})})}function q(){var e=Object(C.c)((function(e){return e.taskListReducer.auth_modal})),t=Object(C.b)(),n=Object(d.useState)(""),a=Object(f.a)(n,2),r=a[0],c=a[1],i=Object(d.useState)({username:"",password:""}),o=Object(f.a)(i,2),s=o[0],u=o[1];function l(e,t){u("username"==t?Object(_.a)(Object(_.a)({},s),{},{username:e.target.value}):Object(_.a)(Object(_.a)({},s),{},{password:e.target.value}))}return Object(z.jsx)(N,{height:e,onClick:function(e){return function(e,n){e.target==e.currentTarget&&t({type:R,payload:n})}(e,0)},children:Object(z.jsx)("div",{children:Object(z.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=new FormData;n.append("email",s.username),n.append("password",s.password),M("login",n,(function(e){t({type:R,payload:0}),t({type:E,payload:!0}),localStorage.setItem("user",e.data.message)}),(function(e){c(e.data.message)}))}(e)},children:[Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(z.jsx)("input",{type:"text",id:"username",onChange:function(e){return l(e,"username")}})]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"email",children:"Password:"}),Object(z.jsx)("input",{type:"password",id:"password",onChange:function(e){return l(e,"password")}})]}),Object(z.jsx)("p",{className:"errors",children:r}),Object(z.jsx)("input",{type:"submit"})]})})})}function B(){var e=Object(C.c)((function(e){return e.taskListReducer.open_detail})),t=Object(C.c)((function(e){return e.taskListReducer.detail_task})),n=Object(d.useState)([{val:"\u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",code:0},{val:"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c",code:1},{val:"\u0437\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",code:10},{val:"\u0437\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",code:11}]),a=Object(f.a)(n,2),r=a[0],c=a[1],i=Object(C.b)(),o=Object(d.useState)(""),s=Object(f.a)(o,2),u=s[0],l=s[1],b=Object(d.useState)({text:t.text,status:t.status}),p=Object(f.a)(b,2),j=p[0],h=p[1];function O(e){e.preventDefault();var n=new FormData,a=function(){var e=0;return r.forEach((function(t,n){t.current&&(e=t.code)})),e}();console.log(a),n.append("text",j.text),n.append("status",a),function(e,t,n,a){F.a.post(I+e,t,{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("user"))}}).then((function(e){n(e)})).catch((function(e){a(e.response)}))}("edit/"+t.id,n,(function(e){i({type:D,payload:0})}),(function(e){l(e)}))}return Object(d.useEffect)((function(){h(t),c(r.map((function(e){return e.code==t.status?Object(_.a)(Object(_.a)({},e),{},{current:!0}):Object(_.a)(Object(_.a)({},e),{},{current:!1})})))}),[t]),Object(z.jsx)(N,{height:e,onClick:function(e){return function(e,t){e.target==e.currentTarget&&i({type:D,payload:t})}(e,0)},children:Object(z.jsx)("div",{children:Object(z.jsxs)("form",{onSubmit:function(e){return O(e)},children:[Object(z.jsxs)("p",{children:[Object(z.jsx)("label",{htmlFor:"text",children:"Text:"}),Object(z.jsx)("input",{type:"text",id:"text",value:j.text,onChange:function(e){return function(e,t){h(Object(_.a)(Object(_.a)({},j),{},{text:e.target.value}))}(e)}})]}),Object(z.jsxs)("p",{className:"options",children:[Object(z.jsx)("label",{htmlFor:"men",children:"Status:"}),r.map((function(e,t){return Object(z.jsx)("span",{onClick:function(){return function(e,t){c(r.map((function(e,n){return n==t?Object(_.a)(Object(_.a)({},e),{},{current:!0}):Object(_.a)(Object(_.a)({},e),{},{current:!1})})))}(0,t)},background:e.code,className:e.current?"selected":"",children:e.val},t)}))]}),Object(z.jsx)("p",{className:"errors",children:u}),Object(z.jsx)("input",{type:"submit"})]})})})}var H=n(16),J=n(43),G=n(44),Q=n(46),Y=n(45),Z="LEFT",K="RIGHT",V=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r},W=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;Object(J.a)(this,n),(a=t.call(this,e)).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),c={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},(function(){return n(c)}))},a.handleClick=function(e,t){t.preventDefault(),a.gotoPage(e)},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var c=[],i=t-n,o=t+n,s=e-1,u=i>2?i:2,l=o<s?o:s,d=r-(c=V(u,l)).length-1,b=u>2,p=l<s,j=Z,h=K;if(b&&!p){var O=V(u-d,u-1);c=[j].concat(Object(H.a)(O),Object(H.a)(c))}else if(!b&&p){var f=V(l+1,l+d);c=[].concat(Object(H.a)(c),Object(H.a)(f),[h])}else b&&p&&(c=[j].concat(Object(H.a)(c),[h]));return[1].concat(Object(H.a)(c),[e])}return V(1,e)};var r=e.totalRecords,c=void 0===r?null:r,i=e.pageLimit,o=void 0===i?30:i,s=e.pageNeighbours,u=void 0===s?0:s,l=e.currentPage,d=void 0===l?1:l;return a.pageLimit="number"===typeof o?o:30,a.totalRecords="number"===typeof c?c:0,a.current_page=d,a.pageNeighbours="number"===typeof u?Math.max(0,Math.min(u,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:d},a}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.gotoPage(this.current_page)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.state.currentPage,n=this.fetchPageNumbers();return Object(z.jsx)(d.Fragment,{children:Object(z.jsx)("nav",{"aria-label":"Countries Pagination",children:Object(z.jsx)("ul",{className:"pagination",children:n.map((function(n,a){return n===Z?Object(z.jsx)("li",{className:"page-item",children:Object(z.jsxs)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft,children:[Object(z.jsx)("span",{"aria-hidden":"true",children:"\xab"}),Object(z.jsx)("span",{className:"sr-only",children:"Previous"})]})},a):n===K?Object(z.jsx)("li",{className:"page-item",children:Object(z.jsxs)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight,children:[Object(z.jsx)("span",{"aria-hidden":"true",children:"\xbb"}),Object(z.jsx)("span",{className:"sr-only",children:"Next"})]})},a):Object(z.jsx)("li",{className:"page-item".concat(t===n?" active":""),children:Object(z.jsx)("a",{className:"page-link",href:"#",onClick:function(t){return e.handleClick(n,t)},children:n})},a)}))})})})}}]),n}(d.Component);var X=function(e){var t=e.match.params.id,n=Object(O.f)(),a=Object(C.b)(),r=Object(C.c)((function(e){return e.taskListReducer.tasks})),c=Object(C.c)((function(e){return e.taskListReducer.isAdmin})),i=Object(C.c)((function(e){return e.taskListReducer.queries})),o=Object(C.c)((function(e){return e.taskListReducer.open_detail})),s=Object(d.useState)([{val:"username",current:!0},{val:"email",current:!1},{val:"status",current:!1}]),u=Object(f.a)(s,2),l=u[0],b=u[1],p=Object(d.useState)([{val:"DESC",current:!0},{val:"ASC",current:!1}]),j=Object(f.a)(p,2),h=j[0],g=j[1],N=Object(d.useState)(0),_=Object(f.a)(N,2),A=_[0],M=_[1],H=Object(d.useState)(parseInt(t)),J=Object(f.a)(H,2),G=J[0],Q=J[1];return Object(d.useEffect)((function(){void 0!=localStorage.getItem("user")&&a({type:E,payload:!0})}),[c]),Object(d.useEffect)((function(){!function(e,t,n){F.a.get(I+"?developer=Zhahangir&page=".concat(t,"&sort_direction=").concat(n.sort_direction,"&sort_field=").concat(n.sort_field)).then((function(t){e(t.data.message)})).catch((function(t){e(t)}))}((function(e){M(e.total_task_count),a({type:L,payload:e.tasks})}),G,i)}),[G,i,o]),Object(d.useEffect)((function(){b(l.map((function(e){return e.val==i.sort_field?{val:e.val,current:!0}:{val:e.val,current:!1}}))),g(h.map((function(e){return e.val==i.sort_direction?{val:e.val,current:!0}:{val:e.val,current:!1}})))}),[i]),Object(z.jsxs)(k,{children:[Object(z.jsxs)(w,{children:[Object(z.jsx)(m,{backgroundColor:!0,onClick:function(){a({type:P,payload:100})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(z.jsxs)(m,{onClick:function(){a({type:R,payload:100})},children:[Object(z.jsx)("span",{children:"\u0412\u043e\u0439\u0442\u0438 \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d"}),Object(z.jsx)("i",{className:"fa fa-server"})]})]}),Object(z.jsxs)(y,{children:[Object(z.jsxs)(v,{children:[Object(z.jsx)("div",{children:l.map((function(e,t){return Object(z.jsx)("span",{className:e.current?"current":"",onClick:function(){return function(e){a({type:S,payload:{sort_field:l[e].val,sort_direction:i.sort_direction}})}(t)},children:e.val},t)}))}),Object(z.jsx)("div",{className:"byOrder",children:h.map((function(e,t){return Object(z.jsx)("span",{className:e.current?"current":"",onClick:function(){return function(e){a({type:S,payload:{sort_field:i.sort_field,sort_direction:h[e].val}})}(t)},children:e.val},t)}))})]}),r?r.map((function(e,t){return Object(z.jsx)("div",{children:Object(z.jsxs)(x,{background:e.status,isAdmin:c,onClick:function(){return function(e){void 0!=localStorage.getItem("user")&&(a({type:T,payload:e}),a({type:D,payload:100}))}(e)},children:[Object(z.jsx)("span",{className:"author-name",children:e.username}),Object(z.jsx)("h3",{children:e.text}),Object(z.jsx)("span",{className:"author-email",children:e.email}),Object(z.jsx)("span",{className:c?"editIcon":"disabled editIcon",children:Object(z.jsx)("i",{className:"fa fa-edit"})})]})},e.id)})):null]}),Object(z.jsx)(U,{}),Object(z.jsx)(q,{}),Object(z.jsx)(B,{}),A?Object(z.jsx)(W,{totalRecords:A,pageLimit:3,pageNeighbours:1,onPageChanged:function(e){void 0!=e.currentPage?(n.push("/page/".concat(e.currentPage)),Q(e.currentPage)):n.push("/page/".concat(e))},currentPage:parseInt(t)}):null]})};var $=function(){return Object(z.jsx)(h.a,{children:Object(z.jsx)(O.c,{children:Object(z.jsx)(O.a,{path:"/page/:id",exact:!0,component:X})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},te=n(27),ne={tasks:[],queries:{sort_direction:"ASC",sort_field:"username"},modal:0,auth_modal:0,isAdmin:!1,detail_task:{},open_detail:0};var ae,re=Object(te.a)({taskListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(_.a)(Object(_.a)({},e),{},{tasks:t.payload});case S:return Object(_.a)(Object(_.a)({},e),{},{queries:t.payload});case P:return Object(_.a)(Object(_.a)({},e),{},{modal:t.payload});case R:return Object(_.a)(Object(_.a)({},e),{},{auth_modal:t.payload});case E:return Object(_.a)(Object(_.a)({},e),{},{isAdmin:t.payload});case T:return Object(_.a)(Object(_.a)({},e),{},{detail_task:t.payload});case D:return Object(_.a)(Object(_.a)({},e),{},{open_detail:t.payload});default:return e}}}),ce=Object(te.b)(re),ie=Object(g.a)(ae||(ae=Object(l.a)(["\n  body {\n    margin: 0 auto;\n    width: 70%;\n    padding: 10px;\n  }\n  *{\n    box-sizing: border-box;\n    font-family: 'Montserrat', sans-serif;\n  }\n"])));window.store=ce,j.a.render(Object(z.jsx)(b.a.StrictMode,{children:Object(z.jsxs)(C.a,{store:ce,children:[Object(z.jsx)($,{}),Object(z.jsx)(ie,{})]})}),document.getElementById("root")),ee()}},[[78,1,2]]]);
//# sourceMappingURL=main.75df4704.chunk.js.map